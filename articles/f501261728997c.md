---
title: "BGPやってみた"
emoji: "👏"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["bgp"]
published: false
publication_name: neody
---

tuna2134です。
私はとうとうAS番号を取得するに至りました！今回は、AS番号を持ったことについて記事にしようと思います。

## グローバルなIPを持ちたい！
私はマインクラフトサーバーを運営するコミュニティや知り合いなどにVM(仮想サーバ)を貸し出したりしているのですが、様々なサービス提供やVM提供で共通のIPアドレス使用していたところ、Discord botなど特定のサーバーに重複接続するソリューションを複数運用しているうちにレートリミットに掛かることが多々起こるようになりました。
そこで、複数のIPアドレスを所有し、それぞれのVMに固有で割り当てたい、と思いました。また、調べていくうちに興味から、AS(自律システム)番号を取得したいと思うようになりました。しかし、AS番号を取得したとして利用するためには、ほかのAS番号を所有する事業者とBGP(Border Gateway Protocol)プロトコルを用いたセッションを張らないといけないことがわかったので、実際にAS番号とIPを取得したのち、ENTERNET(AS63798)とVultr(AS20473)にBGPピアリングを張らせてもらいました。

## BGPとは
例えるならば郵便サービスです。手紙(パケット)をポストに投函すると効率の良いルートを選択し、届くまでにいくつかの郵便局(ルーター)を経由することで、相手(サーバーやクライアント)に投函(到達)します。そのための経路の仕組みを定めたものをBGPと言います。

## AS番号の取得方法
ぶっちゃけコネがないと取れないです。私は運がよかったので、知り合いに取る手伝いをしてもらいましたが、ここでは詳細を明かすことはできません。🙏 

## IX(Internet eXchange)を契約しないのか？
とても高いので、学生である私には現実的に無理だということがわかりました。Peerを張らせていただいたvultrとenternetにはとても感謝しています。

## 今後の活用
IPを所有することができたので、ほかにLinuxを勉強している方がいたらVMを提供しサポートしてあげようと思います。