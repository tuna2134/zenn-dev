---
title: "Neody NTPサーバの裏話？"
emoji: "🐡"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["ntp", "linux", "lxc"]
published: true
publication_name: neody
---

こんにちは、Neodylandのtuna2134です。

先日、NTPサーバを公開しました。詳細は以下をご覧ください。
https://news.neody.land/ntp-project/

## NTPサーバはVMで構築されているのでは？
LXC(Linux Containers)と呼ばれるコンテナ技術を用いています。

通常のdockerコンテナとは異なり、VMのように操作することが可能なのが特徴です。

ただ、VMのようにといっても、カーネルを共有しているので、ある程度のリスクは許容しています。

なので、VMでわざわざ動かすメリットがないようなものは基本的にLXCで動かしています。

## 利用しているソフトウェア
NTPデーモン(ntpd)を利用しています。Ubuntu 24.04で以下のコマンドを実行し、
```bash
apt-get install -y ntp
```
導入されるものです。

chronyを使ってもよかったのですが、後述するNTP Poolプロジェクトが推奨していなかったため、利用することをやめました。

## NTP Poolプロジェクトへの参加
様々なNTPサーバにランダムでアクセスすることを可能にするプロジェクトです。

NTPサーバのスコアが10以上になったものが公開されていきます。

NeodylandがNTP Poolプロジェクトに参加している様子。

IPv4:
https://www.ntppool.org/scores/43.229.16.149

IPv6:
https://www.ntppool.org/scores/2402:2f60:1919::11:4514

## 最後に
今回のNTPサーバ公開の裏側についてご紹介しました。今後もリリースに関する裏話をZennなどで発信できたらと思います。